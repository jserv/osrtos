---
title: STM32H5 Classic Core Middleware (CoreMW) MCU Firmware Package
summary: A collection of middleware stacks and applications for STM32H5 microcontrollers,
  providing RTOS management, file system operations, and connectivity via USB and
  Ethernet. It integrates FreeRTOS, LwIP, FatFS, and ST's proprietary USB libraries
  into pre-configured projects for NUCLEO and Discovery boards.
slug: stm32h5-classic-core-middleware-coremw-mcu-firmware-package
codeUrl: https://github.com/STMicroelectronics/stm32h5-classic-coremw-apps
star: 23
version: v2.0.0
lastUpdated: '2025-03-28'
rtos: freertos
libraries:
- lwip
topics:
- fatfs
- lwip
- stm32
- stm32cube-mcu-package
- stm32h5
- usb-device
- usb-host
isShow: false
createdAt: '2026-01-04'
updatedAt: '2026-01-04'
---

The STM32H5 Classic Core Middleware (CoreMW) package is a specialized firmware collection from STMicroelectronics, designed to provide a robust foundation for developers working with the STM32H5 series of microcontrollers. This package is unique in that it is distributed exclusively via GitHub, offering a curated set of middleware stacks and pre-configured application examples that are not part of the standard STM32CubeMX generation flow.

At its core, the package integrates several industry-standard third-party stacks alongside ST's proprietary libraries. It features FreeRTOS for real-time operating system management, LwIP for TCP/IP networking, and FatFS for file system operations. For connectivity, it includes the ST USB Device and USB Host libraries, enabling a wide range of USB functionalities from Human Interface Devices (HID) to Mass Storage Class (MSC) and Communication Device Class (CDC).

## Hardware and Toolchain Support

The repository is structured to support rapid prototyping on specific hardware platforms, namely the NUCLEO-H563ZI and the STM32H573I-DK Discovery kit. These boards represent the high-performance capabilities of the STM32H5 series, featuring Cortex-M33 cores with advanced security and connectivity features.

For development, the package supports major professional toolchains including:
- IAR Embedded Workbench for ARM (EWARM)
- RealView Microcontroller Development Kit (MDK-ARM)
- STM32CubeIDE

While most projects are pre-configured primarily for EWARM, the FatFs RAMDISK example provides project files for all three major toolchains, serving as a reference for cross-toolchain development.

## Key Applications and Features

The STM32H5 Classic CoreMW package includes a diverse array of applications that demonstrate the integration of middleware with the STM32H5 hardware:

- **Networking (LwIP)**: Includes TCP and UDP echo servers/clients, HTTP servers using Raw, Socket, and Netconn APIs, and TFTP servers. These examples guide users through the various LwIP APIs, from low-level raw callbacks to RTOS-integrated socket programming.
- **USB Connectivity**: Provides standalone examples for HID, CDC, DFU, and MSC. It also features a Dual Class support example for USB Host, allowing simultaneous communication with a mouse/keyboard and a flash disk.
- **File Systems (FatFS)**: Demonstrates generic FAT file system modules operating on RAMDISK and microSD media, including multi-access scenarios.

## Technical Architecture

The project leverages a modular architecture using Git submodules. This allows the repository to remain focused on application logic while pulling in the necessary CMSIS, HAL, and BSP drivers directly from their respective official STMicroelectronics repositories. This approach ensures that developers are working with the intended versions of the underlying hardware abstraction layers and middleware components.

Because these projects are not generated by STM32CubeMX, they do not contain `.ioc` files. This makes the repository particularly valuable for developers who prefer a manual, code-centric approach to project configuration or those who need to understand the deep integration between the RTOS, middleware, and hardware abstraction layers.
