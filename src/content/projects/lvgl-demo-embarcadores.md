---
title: LVGL Demo Embarcadores
summary: A demonstration project showcasing the LVGL graphics library on the STM32F429-Discovery
  board. It integrates multiple hardware peripherals including GPS, IMU, and rotary
  encoders using FreeRTOS for task management. The application is designed to be portable
  between the physical ARM target and an x86-based simulator.
slug: lvgl-demo-embarcadores
codeUrl: https://github.com/JON95Git/lvgl-demo-embarcadores
star: 14
lastUpdated: '2020-07-25'
rtos: freertos
libraries:
- lvgl
topics:
- freertos
- gps
- imu-sensor
- lvgl
- stm32
isShow: false
createdAt: '2025-12-30'
updatedAt: '2025-12-30'
---

The LVGL Demo Embarcadores project is a comprehensive example of how to build sophisticated graphical user interfaces (GUIs) for resource-constrained microcontrollers. Developed specifically for the STM32F429-Discovery platform, this project leverages the popular LVGL (Light and Versatile Graphics Library) to create a multi-functional dashboard that interfaces with real-world hardware sensors.

## Project Architecture and Portability

One of the standout features of this project is its dual-target build system. It is designed to be portable between the physical ARM Cortex-M4 hardware and an x86-based simulator environment. This allows developers to prototype and refine the high-level GUI logic on a Linux host using the SDL-based simulator before deploying the firmware to the actual STM32 microcontroller.

The firmware is built upon FreeRTOS, which manages the various system tasks. The project structure is organized to separate the GUI logic (located in `app/gui`) from the low-level hardware drivers, facilitating easier maintenance and porting. This modularity ensures that the graphical components remain decoupled from the underlying hardware abstraction layer.

## Hardware Integration and User Interface

The application demonstrates how to bridge hardware data with graphical widgets. The interface is built around a `tabview` component, which organizes the data into three distinct areas:

- **GPS Tab**: Displays real-time coordinates and data from a NEO6MV2 GPS module.
- **Gauge Tab**: Visualizes the value of a 10K potentiometer using a graphical gauge widget.
- **IMU Tab**: Shows motion data (accelerometer and gyroscope) from an MPU-6050 Inertial Measurement Unit.

While the STM32F429-Discovery board includes a resistive touchscreen, this project specifically implements a rotary encoder (KY-040) as the primary input device. This highlights LVGL's flexibility in handling various input methods beyond traditional touch, such as encoders or keypads, which are common in industrial and automotive applications.

## Technical Implementation

The project uses a standard Makefile-based build system, with configuration managed through a `compile.conf` file. It integrates the STM32 HAL (Hardware Abstraction Layer) generated by STM32CubeMX, ensuring efficient peripheral management. For the display, it utilizes the ILI9341 controller over an RGB interface, taking advantage of the STM32's LTDC (LCD-TFT Display Controller) and DMA2D (Chrom-ART Accelerator) for high-performance graphics rendering.

Key software components include:
- **FreeRTOS**: Handles task scheduling for GUI updates and sensor polling.
- **LVGL (v7+)**: Provides the graphics engine and widget set.
- **Minmea**: A lightweight GPS NMEA 0183 parser library used for the GPS tab.
- **MPU6050 Driver**: Custom driver for interfacing with the IMU via I2C.

## Getting Started

To build the project, a GNU/Linux host with the `arm-none-eabi-gcc` toolchain is required. The repository includes a `.vscode` directory with pre-configured tasks for building, flashing, and debugging using the Cortex-Debug extension. Users without the physical hardware can follow the provided instructions to link the GUI source files into the LVGL Eclipse/SDL simulator to explore the interface logic. 

Flashing the firmware to the board is handled via OpenOCD, specifically targeting the STM32F429-Discovery configuration. The project also supports the STM32CubeMX tool for users who wish to modify peripheral configurations or pin assignments.
