---
title: Apache NuttX RTOS for PinePhone
summary: A comprehensive port of the Apache NuttX Real-Time Operating System to the
  Pine64 PinePhone. It features drivers for the Allwinner A64 SoC, including MIPI
  DSI display, touch panel, 4G LTE modem, and LVGL graphics integration with multi-core
  SMP support.
slug: apache-nuttx-rtos-for-pinephone
codeUrl: https://github.com/lupyuen/pinephone-nuttx
siteUrl: https://lupyuen.github.io/articles/what
star: 102
version: pinephone-nuttx-2026-01-04
lastUpdated: '2025-01-31'
rtos: nuttx
libraries:
- lvgl
topics:
- allwinner-a64
- arm64
- cortex-a53
- de2
- mipi-dsi
- nuttx
- osdev
- pinephone
- zig
isShow: false
createdAt: '2026-01-04'
updatedAt: '2026-01-04'
---

Apache NuttX is a lightweight, POSIX-compliant Real-Time Operating System (RTOS) designed for resource-constrained environments. This project focuses on porting and optimizing NuttX for the Pine64 PinePhone, a smartphone powered by the Allwinner A64 SoC featuring four Arm Cortex-A53 cores. By bringing a professional-grade RTOS to a mobile handset platform, this repository enables low-level experimentation and the development of highly efficient firmware for mobile hardware.

## Hardware Support and Driver Development

The project provides extensive support for the PinePhone's hardware components. At its core, it utilizes the Arm64 support in NuttX to run on the Cortex-A53 cores with Symmetric Multi-Processing (SMP) enabled. Key hardware integrations include:

- **Display Subsystem**: Implementation of the MIPI Display Serial Interface (DSI) and the Allwinner A64 Display Engine. This allows for hardware-accelerated rendering and proper management of the LCD panel.
- **Input Devices**: A dedicated driver for the capacitive touch panel, enabling interactive user interfaces.
- **Connectivity**: Integration with the Quectel EG25-G 4G LTE modem, supporting AT commands for phone calls and SMS (both Text and PDU modes).
- **Sensors and Peripherals**: Drivers for the accelerometer, gyroscope, UART, USB (via EHCI), and the Power Management Integrated Circuit (PMIC).
- **GPIO and LEDs**: Low-level control for status LEDs and general-purpose I/O pins.

## Graphics with LVGL and Zig

One of the standout features of this port is the integration of the LVGL (Light and Versatile Graphics Library). The project demonstrates booting directly into an LVGL-based UI, including a functional terminal for the NuttX Shell (NSH). Interestingly, the developer has utilized the Zig programming language to write several drivers, such as the display engine and MIPI DSI drivers, showcasing modern language interop within an RTOS environment.

## Booting and Linux Compatibility

To simplify the deployment process, the NuttX images generated by this project follow the Arm64 Linux Kernel Image Format. This allows NuttX to act as a drop-in replacement for a standard Linux kernel on the PinePhone. It can be loaded by U-Boot from a microSD card, making it easy for developers to swap between a traditional mobile Linux OS and the NuttX RTOS for testing.

## Technical Architecture

The implementation treats the PinePhone as a specific target board within the NuttX ecosystem. It builds upon the `qemu-a53` architecture base and adds Allwinner A64-specific logic. The project includes automated daily builds via GitHub Actions, ensuring that the latest improvements from the Apache NuttX mainline are continuously integrated with the PinePhone-specific drivers and configurations.

For developers interested in the internals of mobile hardware or RTOS porting, the project is accompanied by an extensive series of technical articles documenting the journey from initial boot to complex modem and display integration.
