---
title: RTAI IRQ Latency Experiments
summary: A suite of experiments and tools designed to measure and analyze interrupt
  latency within the Real-Time Application Interface (RTAI) for Linux. It features
  software modules for parallel port and PCI Express interrupts, including custom
  FPGA hardware designs for PCIe latency testing.
slug: rtai-irq-latency-experiments
codeUrl: https://github.com/thotypous/rtai-irq-latency
siteUrl: http://thotypous.github.io/2015-05/rtai-measuring-irq-latency
star: 1
version: '0.1'
lastUpdated: '2015-05-25'
rtos: rtai
topics:
- experiment
- latency
- rtai
isShow: false
createdAt: '2026-01-04'
updatedAt: '2026-01-04'
---

The RTAI IRQ Latency Experiments project provides a specialized environment for benchmarking and analyzing interrupt latency within the Real-Time Application Interface (RTAI) for Linux. In the world of hard real-time systems, the time elapsed between a hardware signal and the execution of its corresponding Interrupt Service Routine (ISR) is a critical metric. This project offers the tools necessary to quantify that delay across different hardware interfaces.

## Project Scope and Architecture

The repository is organized into several distinct components that target different hardware paths and analysis needs. By providing both software modules and hardware descriptions, it allows for a holistic view of the interrupt path from the physical pin to the RTAI kernel space.

### Parallel Port Testing
For systems with legacy hardware support, the `LPT_SW` directory contains an RTAI module specifically for testing parallel port interrupt latency. This provides a straightforward way to measure latency on standard PC hardware without requiring specialized FPGA boards.

### PCI Express Hardware and Software
The project goes beyond legacy interfaces by including a complete setup for PCI Express (PCIe) latency measurement. This involves a hardware-software co-design:
- **PCIe_HW**: Contains a Quartus II project and source code written in Bluespec SystemVerilog. This hardware is designed to trigger interrupts on the PCIe bus.
- **PCIe_SW**: An RTAI kernel module that interacts with the custom PCIe hardware to measure the response time of the system.

This dual approach is particularly valuable for developers working on high-performance embedded systems where PCIe is the primary interconnect, as it accounts for the complexities and overhead of the PCIe bus protocol.

## Data Analysis and Visualization

Raw latency numbers are often difficult to interpret without context. To solve this, the project includes a `plot` utility. This tool is designed to take the timing data generated by the RTAI modules and produce histograms. These visualizations are essential for identifying jitter, average latency, and—most importantly—the worst-case execution time (WCET), which is the defining characteristic of hard real-time performance.

## Technical Requirements

To utilize this project effectively, users typically need an environment configured for RTAI development. For the PCIe experiments, access to Altera (Intel) Quartus II and a compatible FPGA development board is required to synthesize the Bluespec-based hardware design. The project uses standard Makefiles, though environment variables may need to be adjusted to point to specific RTAI or Quartus installation paths.
