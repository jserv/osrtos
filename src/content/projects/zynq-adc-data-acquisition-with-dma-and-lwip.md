---
title: ZYNQ ADC Data Acquisition with DMA and LwIP
summary: A high-speed data acquisition system using the Xilinx ZYNQ SoC to interface
  with an AD9288 ADC. It utilizes FreeRTOS for task management, LwIP for TCP/IP communication,
  and DMA for efficient data transfer from FPGA logic to DDR memory.
slug: zynq-adc-data-acquisition-with-dma-and-lwip
codeUrl: https://github.com/Hamid-R-Tanhaei/ZYNQ_ADC_DMA_LWIP
star: 55
version: v1.0
lastUpdated: '2021-06-23'
rtos: freertos
libraries:
- lwip
topics:
- ad9288
- ad9577
- adc
- dma
- ethernet
- fpga-soc
- freertos
- i2c
- java
- lwip
- tcp-ip
- z-turn
- zynq-7000
isShow: false
createdAt: '2026-01-04'
updatedAt: '2026-01-04'
---

## High-Speed Data Acquisition on ZYNQ

This project implements a robust data acquisition pipeline on the Xilinx ZYNQ SoC, bridging the gap between high-speed analog-to-digital conversion and networked data visualization. By leveraging the heterogeneous architecture of the ZYNQ device, the system manages high-speed signal processing in the Programmable Logic (PL) while handling complex networking and control tasks in the Processing System (PS).

## System Architecture and Hardware

The hardware foundation consists of a Z-Turn evaluation board interfaced with a custom-designed ADC module. The module features two AD9288 ADCs and an AD9577 clock generator. To ensure data integrity at high speeds, the system employs a system-synchronous clocking solution. A common 72MHz differential clock pulse, generated by the AD9577 (which is itself driven by a 24MHz local oscillator), is distributed to both the ADCs and the ZYNQ PL section.

## The Data Pipeline

The acquisition process is split across the ZYNQ's internal boundaries to maximize efficiency:

*   **Programmable Logic (PL):** Four ADC channels (two 8-bit channels per ADC) are sampled at 72MSPS. The resulting data is initially stored in a FIFO memory synchronized to the ADC clock. 
*   **Data Transfer:** A DMA (Direct Memory Access) IP block reads data from the FIFO using a 100MHz internal PL clock. This DMA engine is controlled by the PS and writes the sampled data directly into the system's DDR memory, bypassing the CPU to minimize latency and overhead.
*   **Processing System (PS):** Running on FreeRTOS, the PS manages the high-level logic. It configures the AD9577 clock chip via I2C and coordinates the DMA transfers. Once data is available in the DDR memory, the PS uses the LwIP stack to transmit the information over Ethernet.

## Networking and Visualization

The software stack utilizes LwIP configured as a TCP server in socket mode. This allows the ZYNQ device to establish a reliable connection with a host PC. On the host side, a custom Java application developed in NetBeans acts as a client. It connects to the ZYNQ board's IP address, receives the stream of ADC data, and provides a real-time graphical interface to monitor all four ADC channels simultaneously.

## Technical Implementation Details

The project was developed using the Xilinx Vivado and Vitis 2020.1 toolchains. The use of FreeRTOS ensures that the I2C configuration, DMA management, and LwIP networking tasks are handled with appropriate priority and timing. This multi-threaded approach allows the system to maintain a stable TCP/IP connection while simultaneously managing the high-throughput data coming from the FPGA fabric.
