---
title: STM32 PID Temperature Control Implementation
summary: A PID-based temperature control system implemented on an STM32 microcontroller
  using the CMSIS framework. The project utilizes a BMP280 sensor to monitor heat
  generated by a 5W resistor, employing a PID algorithm to regulate voltage while
  managing a cooling fan and a user interface via LCD and rotary encoder.
slug: stm32-pid-temperature-control-implementation
codeUrl: https://github.com/bartosz-podkanski/STM32-PID-IMPLEMENTATION-CMSIS
star: 0
lastUpdated: '2020-07-26'
rtos: cmsis
topics:
- cmsis
- pid-controller
- stm32
isShow: false
createdAt: '2026-01-04'
updatedAt: '2026-01-04'
---

## Overview

This project provides a practical implementation of a Proportional-Integral-Derivative (PID) controller on an STM32 microcontroller. Designed as a temperature regulation system, it demonstrates how to close the loop between sensor data and hardware actuators in an embedded environment. The system targets a specific thermal environment where a 5W resistor acts as the heating element and a BMP280 sensor provides real-time temperature feedback.

By leveraging the CMSIS (Cortex Microcontroller Software Interface Standard) framework, the implementation ensures high performance and hardware abstraction, making the PID logic portable across different ARM Cortex-M based microcontrollers. 

## Hardware Topology and Components

The system architecture is built around a feedback loop that involves several key hardware components:

- **STM32 Microcontroller**: Serves as the central processing unit, running the PID algorithm and managing peripherals.
- **BMP280 Sensor**: A high-precision digital pressure and temperature sensor used here to monitor the heat emitted by the resistor.
- **5W Resistor**: Acts as the heating element. The STM32 controls the voltage applied to this resistor to modulate heat output.
- **Cooling Fan**: Managed by an on-off controller to accelerate cooling when the actual temperature exceeds the setpoint or to stabilize the system.
- **User Interface**: Includes an LCD screen for visual feedback and a rotary encoder for manual input.

## System Functionality

The project features a robust user interface that allows for real-time interaction and tuning. Users can set the target temperature using the rotary encoder or via a serial terminal. The LCD screen provides a live view of both the set temperature and the actual temperature measured by the BMP280.

One of the most useful features of this implementation is the integrated PID tuning menu. By clicking the encoder button, users can cycle through a menu to adjust the Proportional (P), Integral (I), and Derivative (D) constants directly on the device. This allows for immediate observation of how different parameters affect the system's stability and response time without needing to recompile the firmware.

## Control Logic and Implementation

The core of the firmware is the PID algorithm. The STM32 reads the temperature from the BMP280, calculates the error (the difference between the setpoint and the actual temperature), and applies the PID formula to determine the necessary output voltage for the resistor. 

While the heater is controlled via the PID loop for fine-grained regulation, the fan operates on a simpler on-off control logic. This hybrid approach is common in thermal management systems where heating requires precise modulation but cooling can be handled by a binary state actuator. 

## Results and Performance

The repository includes test results demonstrating the system's ability to reach and maintain a set temperature. The PID controller effectively minimizes overshoot and steady-state error, providing a smooth transition to the target temperature. The inclusion of the fan significantly improves the system's ability to recover from over-temperature conditions, showcasing a complete thermal management solution.
