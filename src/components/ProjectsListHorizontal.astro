---
import type {CollectionEntry} from 'astro:content';
import ProjectListItem from './ProjectListItem.astro';

interface Props {
  projects: CollectionEntry<'projects'>[];
}

const {projects} = Astro.props;

// Sort projects by createdAt in descending order (newest first)
const sortedProjects = [...projects].sort((a, b) => {
  const dateA = new Date(a.data.createdAt).getTime();
  const dateB = new Date(b.data.createdAt).getTime();
  return dateB - dateA;
});
---

<div class="w-full">
  <div class="grid grid-cols-1 gap-6 mb-8">
    {sortedProjects.map(entry => (
       <ProjectListItem entry={entry}/>
    ))}
  </div>

  {sortedProjects.length === 0 && (
     <div class="text-center py-16 px-8 text-gray-600 dark:text-gray-400">
       <p class="text-lg m-0">No projects found.</p>
     </div>
  )}
</div>
